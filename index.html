<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LavishNodes | Status</title>
<style>
  body{
    margin:0;
    background:#0d1117;
    font-family:Segoe UI,Roboto,sans-serif;
    color:#c9d1d9;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:30px 15px;
  }
  h1{color:#58a6ff;margin-bottom:10px;font-size:2.4rem;}
  p.sub{color:#8b949e;margin-top:0;margin-bottom:25px;text-align:center;}
  .panel{
    background:#161b22;
    border:1px solid #30363d;
    border-radius:16px;
    padding:20px;
    width:100%;
    max-width:720px;
    box-shadow:0 0 12px #0006;
    margin-bottom:25px;
  }
  h2{margin-top:0;color:#fff;font-size:1.3rem;}
  .status{
    display:inline-block;
    padding:6px 14px;
    border-radius:10px;
    font-weight:600;
    color:#fff;
    min-width:90px;
    text-align:center;
  }
  .online{background:#238636;}
  .offline{background:#da3633;}
  .uptime-wrap{margin-top:12px;}
  .bar{
    background:#30363d;
    border-radius:8px;
    overflow:hidden;
    height:22px;
  }
  .fill{
    background:#58a6ff;
    height:100%;
    width:0%;
    transition:width 1s ease;
  }
  footer{margin-top:25px;font-size:0.9rem;color:#8b949e;}
</style>
</head>
<body>
<h1>LavishNodes Status</h1>
<p class="sub">Real-time uptime monitoring • Auto refresh every 10s</p>

<div id="panels"></div>

<footer>LavishNodes © 2025 • Pure HTML + JS Status</footer>

<script>
/* ========= CONFIG ========= */
const SERVICES = [
  {id:"dash",      name:"Dashboard", url:"https://dash.lavishnodes.qzz.io"},
  {id:"freepanel", name:"Free Panel", url:"https://panel.lavishnodes.qzz.io"},
  {id:"paidpanel", name:"Paid Panel", url:"https://paidpanel.lavishnodes.qzz.io"}
];

/* ====== BUILD PANELS ====== */
const container=document.getElementById("panels");
SERVICES.forEach(s=>{
  container.innerHTML += `
  <div class="panel">
    <h2>${s.name} <small style="font-size:0.8rem;">(${s.url})</small></h2>
    <div id="${s.id}Status" class="status">Checking…</div>
    <div class="uptime-wrap">
      <strong>Uptime:</strong>
      <div class="bar"><div class="fill" id="${s.id}Fill"></div></div>
      <span id="${s.id}Text">0%</span>
    </div>
  </div>`;
});

/* ====== STATS & PING ====== */
let stats={};
SERVICES.forEach(s=>stats[s.id]={checks:0,up:0});

async function ping(url){
  try{
    await fetch(url,{mode:"no-cors"});
    return true;
  }catch{return false;}
}

function update(id,online,uptime){
  const box=document.getElementById(id+"Status");
  box.textContent = online ? "ONLINE" : "OFFLINE";
  box.className = "status "+(online?"online":"offline");
  document.getElementById(id+"Fill").style.width = uptime+"%";
  document.getElementById(id+"Text").textContent = uptime+"%";
}

async function runCheck(){
  for(const s of SERVICES){
    stats[s.id].checks++;
    let on = await ping(s.url);
    if(on) stats[s.id].up++;
    let pct = ((stats[s.id].up/stats[s.id].checks)*100).toFixed(1);
    update(s.id,on,pct);
  }
}

runCheck();
setInterval(runCheck,10000);
</script>
</body>
</html>
